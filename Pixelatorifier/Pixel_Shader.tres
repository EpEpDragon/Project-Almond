[gd_resource type="Shader" format=2]

[resource]
code = "shader_type canvas_item;

uniform vec2 pos;
uniform float aspect_ratio; // X base
uniform float pixel_clamp = 0.003;

void fragment() 
{
	float x = pixel_clamp / aspect_ratio;
	float y = pixel_clamp;
	vec2 offset = mod(pos, vec2(x,y));
	
	vec2 uv = SCREEN_UV;
	uv -= offset; 
	uv -= mod(uv, vec2(x,y));

	COLOR.rgb = textureLod(SCREEN_TEXTURE,uv,0.0).rgb;
}
"

